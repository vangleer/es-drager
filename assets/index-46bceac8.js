import{d as L,r as B,D as K,o as i,c as V,E as ae,e as k,t as G,G as re,_ as O,h as M,n as N,z as b,l as e,w as l,i as E,F as H,a as D,u as d,H as ue,b as q,I as ne,m as Q,A as le,J as j,s as ee,K as de,L as Y,C as F,M as fe,N as X,O as _e,g as ge,P as me,Q as he,R as be,S as ye,T as we,U as xe,V as Ve,W as Ce,X as ke,Y as ze,Z as Se}from"./index-e8cc1c2b.js";import{a as $e,u as oe,b as Me,d as He,G as Ue}from"./GridRect-84bfb808.js";import{u as Re,A as Be}from"./useArea-4327f499.js";import{u as Ee,$ as qe,a as ie}from"./useEditorContainer-f3224506.js";const Ie=["fontSize","lineHeight","borderWidth","borderRadius"],ce=["fontSize","fontWeight","fontFamily","color","lineHeight","fontStyle","textDecoration","justifyContent","alignItems"];function te(m,t=!0){if(!m)return m;const f={},r=Object.keys(m).filter(o=>t?ce.includes(o):!ce.includes(o));for(const o of r)f[o]=Ie.includes(o)?$e(m[o]):m[o];return f}function Ae(m,t){return Object.keys(m).reduce((f,r)=>(t.includes(r)||(f[r]=m[r]),f),{})}const De=["contenteditable"],Le=L({__name:"TextEditor",props:{editable:{type:Boolean,default:!1},text:{type:String}},setup(m){const t=m,f=B();function r(){if(!f.value)return;const o=document.createRange();o.selectNode(f.value),window.getSelection().removeAllRanges(),window.getSelection().addRange(o)}return K(()=>[t.editable],()=>{t.editable&&r()}),(o,u)=>(i(),V("div",{ref_key:"textRef",ref:f,class:re(["es-text",{editable:m.editable}]),contenteditable:m.editable},[ae(o.$slots,"default",{},()=>[k(G(m.text),1)],!0)],10,De))}}),pe=O(Le,[["__scopeId","data-v-6f7332e1"]]),Te='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M938.666667 553.92V768c0 64.8-52.533333 117.333333-117.333334 117.333333H202.666667c-64.8 0-117.333333-52.533333-117.333334-117.333333V256c0-64.8 52.533333-117.333333 117.333334-117.333333h618.666666c64.8 0 117.333333 52.533333 117.333334 117.333333v297.92z m-64-74.624V256a53.333333 53.333333 0 0 0-53.333334-53.333333H202.666667a53.333333 53.333333 0 0 0-53.333334 53.333333v344.48A290.090667 290.090667 0 0 1 192 597.333333a286.88 286.88 0 0 1 183.296 65.845334C427.029333 528.384 556.906667 437.333333 704 437.333333c65.706667 0 126.997333 16.778667 170.666667 41.962667z m0 82.24c-5.333333-8.32-21.130667-21.653333-43.648-32.917333C796.768 511.488 753.045333 501.333333 704 501.333333c-121.770667 0-229.130667 76.266667-270.432 188.693334-2.730667 7.445333-7.402667 20.32-13.994667 38.581333-7.68 21.301333-34.453333 28.106667-51.370666 13.056-16.437333-14.634667-28.554667-25.066667-36.138667-31.146667A222.890667 222.890667 0 0 0 192 661.333333c-14.464 0-28.725333 1.365333-42.666667 4.053334V768a53.333333 53.333333 0 0 0 53.333334 53.333333h618.666666a53.333333 53.333333 0 0 0 53.333334-53.333333V561.525333zM320 480a96 96 0 1 1 0-192 96 96 0 0 1 0 192z m0-64a32 32 0 1 0 0-64 32 32 0 0 0 0 64z"></path></svg>',je='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M896 896H96a32 32 0 0 1-32-32V224a32 32 0 0 1 64 0v608h768a32 32 0 1 1 0 64z"></path><path fill="currentColor" d="M247.008 640a32 32 0 0 1-20.992-56.192l200.992-174.24a32 32 0 0 1 42.272 0.288l172.128 153.44 229.088-246.304a32 32 0 0 1 46.88 43.616l-250.432 269.216a31.936 31.936 0 0 1-44.704 2.08l-174.56-155.52-179.744 155.84a31.872 31.872 0 0 1-20.928 7.776z"></path></svg>',Pe='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 928C282.624 928 96 741.376 96 512S282.624 96 512 96s416 186.624 416 416-186.624 416-416 416z m0-768C317.92 160 160 317.92 160 512s157.92 352 352 352 352-157.92 352-352S706.08 160 512 160z"></path></svg>',Ne='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M821.816 328.808H203.12c-49.072 0-88.192 33.656-88.192 74.6V701.52c0 41.504 39.792 74.6 88.192 74.6h618.688c49.072 0 88.184-33.656 88.184-74.6V403.408c0.008-40.944-39.784-74.6-88.176-74.6z m-1.96 423.496H203.76c-68.36 0-61.888-59.064-61.888-133.152v-131.68c0-73.096-6.472-133.16 61.888-133.16h616.104c68.328 0 61.88 60.064 61.88 133.16v131.688c0 73.064 6.44 133.144-61.888 133.144z"></path><path fill="currentColor" d="M693.784 460.728H329.816c-40.384 0-36.56 27.696-36.56 61.384v60.72c0 34.144-3.824 61.376 36.56 61.376h363.968c40.384 0 36.576-27.688 36.576-61.376v-60.72c0-33.688 3.808-61.384-36.576-61.384z"></path></svg>',Oe='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M853.333333 138.666667H170.666667c-17.066667 0-32 14.933333-32 32v128c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V202.666667h277.333333v618.666666H384c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h256c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32h-96v-618.666666h277.333333V298.666667c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V170.666667c0-17.066667-14.933333-32-32-32z"></path></svg>',We='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M864 896H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h704a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zM192 832h640V192H192v640z"></path></svg>',Ye=Object.assign({"./svg/图片.svg":Te,"./svg/图表.svg":je,"./svg/圆形.svg":Pe,"./svg/按钮.svg":Ne,"./svg/文本.svg":Oe,"./svg/矩形.svg":We}),Ge={name:String,color:String,size:[String,Number]},Xe=m=>m?Ye[`./svg/${m}.svg`]:"",Fe=["innerHTML"],Ze=L({__name:"Icon",props:Ge,setup(m){const t=m,f=M(()=>Xe(t.name)),r=M(()=>!t.size&&!t.color?{}:{fontSize:typeof t.size=="string"?t.size:`${t.size}px`,"--color":t.color});return(o,u)=>(i(),V("i",{class:"es-icon",style:N(r.value),innerHTML:f.value},null,12,Fe))}}),Je=O(Ze,[["__scopeId","data-v-41413139"]]),Ke={class:"es-layout-aside"},Qe={class:"collapse-content"},et=["onDragstart"],tt={class:"block-text"},lt={class:"collapse-content"},nt=["onDragstart"],ot=L({__name:"Aside",emits:["dragstart","dragend"],setup(m,{emit:t}){const f=t,r=B(["1","2"]);function o(p,v){let s=50,a=50;v.component!=="es-icon"&&(s=v.width||p.target.offsetWidth,a=v.height||p.target.offsetHeight),f("dragstart",{...v,width:s,height:a})}function u(){f("dragend")}return(p,v)=>{const s=b("el-collapse-item"),a=b("el-collapse");return i(),V("div",Ke,[ae(p.$slots,"default",{},()=>[e(a,{modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=n=>r.value=n)},{default:l(()=>[e(s,{title:"通用",name:"1"},{default:l(()=>[E("div",Qe,[(i(!0),V(H,null,D(d(ue).componentList,n=>(i(),V("div",{class:"es-block",draggable:"true",onDragstart:_=>o(_,n),onDragend:u},[e(Je,{name:n.text},null,8,["name"]),E("span",tt,G(n.text),1)],40,et))),256))])]),_:1}),e(s,{title:"图标",name:"2"},{default:l(()=>[E("div",lt,[(i(!0),V(H,null,D(d(ue).iconList,n=>(i(),V("div",{class:"es-block",draggable:"true",onDragstart:_=>o(_,n),onDragend:u},[n.component?(i(),q(le(n.component),ne(Q({key:0},n.props)),null,16)):(i(),V(H,{key:1},[k(G(n.props.icon),1)],64))],40,nt))),256))])]),_:1})]),_:1},8,["modelValue"])])])}}}),at={class:"es-input-number-prefix"},rt=L({__name:"InputNumber",props:{prefix:{type:String}},setup(m){return(t,f)=>{const r=b("el-input-number");return i(),V("div",{class:re(["es-input-number",{"has-prefix":m.prefix||t.$slots.prefix}])},[E("div",at,[ae(t.$slots,"prefix",{},()=>[m.prefix?(i(),V(H,{key:0},[k(G(m.prefix)+":",1)],64)):j("",!0)],!0)]),e(r,Q(t.$attrs,{"controls-position":"right"}),null,16)],2)}}}),P=O(rt,[["__scopeId","data-v-47499339"]]),Z=L({__name:"ColorPicker",setup(m){const t=oe()+"-picker",f=["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"];return ee(()=>{const r=document.querySelector(`.${t}`);r&&r.addEventListener("click",o=>o.stopPropagation())}),(r,o)=>{const u=b("el-color-picker");return i(),q(u,{"popper-class":t,"show-alpha":"",predefine:f})}}}),ve=L({__name:"Background",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(m,{emit:t}){const f=m,r=t,o={startColor:"rgba(255, 255, 255, 1)",endColor:"rgba(255, 255, 255, 1)",gradientRotate:90},u=M({get:()=>(f.modelValue||"").includes("gradient")?C("startColor"):f.modelValue,set:w=>{r("update:modelValue",w)}}),p=[{label:"纯色背景",value:1},{label:"渐变背景",value:2}],v=B(p[0].value),s=[{label:"线性渐变",value:"linear"},{label:"径向渐变",value:"radial"}],a=B(s[0].value),n=M({get:()=>C("startColor"),set:w=>{$(S.value,w,_.value)}}),_=M({get:()=>C("endColor"),set:w=>{$(S.value,n.value,w)}}),S=M({get:()=>C("gradientRotate"),set:w=>{$(w,n.value,_.value)}});function h(){v.value===1?r("update:modelValue",u.value):$(S.value,n.value,_.value)}function C(w){const x=f.modelValue||"rgba(255, 255, 255, 1)";if(!x.includes("gradient"))return w==="startColor"?Me(x).rgb().string():o[w];let R=/gradient\((\d+deg),\s*(rgba?\([^)]+\)),\s*(rgba?\([^)]+\))\)/;x.includes("radial")&&(R=/(gradient)\(.*(rgba?\([^)]+\)),\s*(rgba?\([^)]+\))\)/);const I=x.match(R),T=o[w];return I?w==="startColor"?I[2]||T:w==="endColor"?I[3]||T:w==="gradientRotate"&&parseInt(I[1])||T:T}function $(w,x,c){let R=`linear-gradient(${w}deg, ${x}, ${c})`;a.value==="radial"&&(R=`radial-gradient(${x}, ${c})`),r("update:modelValue",R)}return(w,x)=>{const c=b("el-option"),R=b("el-select"),g=b("el-col"),I=b("el-row"),T=b("el-slider");return i(),V(H,null,[e(I,{gutter:10},{default:l(()=>[e(g,{span:12},{default:l(()=>[e(R,{modelValue:v.value,"onUpdate:modelValue":x[0]||(x[0]=U=>v.value=U),onChange:h},{default:l(()=>[(i(),V(H,null,D(p,U=>e(c,ne(de(U)),null,16)),64))]),_:1},8,["modelValue"])]),_:1}),e(g,{span:12},{default:l(()=>[v.value===1?(i(),q(Z,{key:0,modelValue:u.value,"onUpdate:modelValue":x[1]||(x[1]=U=>u.value=U),"color-format":"rgb"},null,8,["modelValue"])):(i(),q(R,{key:1,modelValue:a.value,"onUpdate:modelValue":x[2]||(x[2]=U=>a.value=U),onChange:x[3]||(x[3]=U=>$(S.value,n.value,_.value))},{default:l(()=>[(i(),V(H,null,D(s,U=>e(c,ne(de(U)),null,16)),64))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),v.value===2?(i(),V(H,{key:0},[e(I,{gutter:10},{default:l(()=>[e(g,{span:12},{default:l(()=>[k(" 起点颜色: ")]),_:1}),e(g,{span:12},{default:l(()=>[e(Z,{modelValue:n.value,"onUpdate:modelValue":x[4]||(x[4]=U=>n.value=U)},null,8,["modelValue"])]),_:1})]),_:1}),e(I,{gutter:10},{default:l(()=>[e(g,{span:12},{default:l(()=>[k(" 终点颜色: ")]),_:1}),e(g,{span:12},{default:l(()=>[e(Z,{modelValue:_.value,"onUpdate:modelValue":x[5]||(x[5]=U=>_.value=U)},null,8,["modelValue"])]),_:1})]),_:1}),a.value==="linear"?(i(),q(I,{key:0,gutter:10},{default:l(()=>[e(g,{span:12},{default:l(()=>[k(" 渐变角度: ")]),_:1}),e(g,{span:12},{default:l(()=>[e(T,{size:"small",modelValue:S.value,"onUpdate:modelValue":x[6]||(x[6]=U=>S.value=U),max:360},null,8,["modelValue"])]),_:1})]),_:1})):j("",!0)],64)):j("",!0)],64)}}}),st={style:{display:"flex","justify-content":"flex-end"}},ut={style:{display:"flex","justify-content":"flex-end"}},dt=L({__name:"EditorStyle",setup(m){const t=Y(),f=B(100),r=M({get:()=>{const{width:v,height:s}=t.data.container.style;return`${v} x ${s}`},set:v=>{const[s,a]=v.split(" x ");t.data.container.style.width=+s,t.data.container.style.height=+a}}),o=[{label:"PC",options:[{label:"1360 x 760",value:"1360 x 760"},{label:"1280 x 720",value:"1280 x 720"},{label:"800 x 600",value:"800 x 600"}]},{label:"H5",options:[{label:"360 x 780",value:"360 x 780"},{label:"iPhone 6/7/8",value:"375 x 667"},{label:"iPhone 6/7/8 Plus",value:"414 x 736"}]}],u=M({get:()=>t.data.container.style.background||t.data.container.style.backgroundColor,set:v=>{t.data.container.style.background=v}}),p=v=>{t.data.container.scaleRatio=v/100};return(v,s)=>{const a=b("el-col"),n=b("el-option"),_=b("el-option-group"),S=b("el-select"),h=b("el-row"),C=b("el-input"),$=b("el-divider"),w=b("el-switch"),x=b("el-form");return i(),q(x,{model:d(t).data.container,"label-width":"90px","label-position":"left",style:{padding:"0 10px"}},{default:l(()=>[e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("画布尺寸:")]),_:1}),e(a,{span:14},{default:l(()=>[e(S,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=c=>r.value=c)},{default:l(()=>[(i(),V(H,null,D(o,c=>e(_,{key:c.label,label:c.label},{default:l(()=>[(i(!0),V(H,null,D(c.options,R=>(i(),q(n,{label:R.label,value:R.value},null,8,["label","value"]))),256))]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("缩放比例:")]),_:1}),e(a,{span:14},{default:l(()=>[e(C,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=c=>f.value=c),modelModifiers:{number:!0},onChange:p},{suffix:l(()=>[k("%")]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("画布宽度:")]),_:1}),e(a,{span:14},{default:l(()=>[e(P,{modelValue:d(t).data.container.style.width,"onUpdate:modelValue":s[2]||(s[2]=c=>d(t).data.container.style.width=c)},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("画布高度:")]),_:1}),e(a,{span:14},{default:l(()=>[e(P,{modelValue:d(t).data.container.style.height,"onUpdate:modelValue":s[3]||(s[3]=c=>d(t).data.container.style.height=c)},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("画布高度:")]),_:1}),e(a,{span:14},{default:l(()=>[e(P,{modelValue:d(t).data.container.style.height,"onUpdate:modelValue":s[4]||(s[4]=c=>d(t).data.container.style.height=c)},null,8,["modelValue"])]),_:1})]),_:1}),e($),e(ve,{modelValue:u.value,"onUpdate:modelValue":s[5]||(s[5]=c=>u.value=c)},null,8,["modelValue"]),e($),e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("画布网格:")]),_:1}),e(a,{span:14},{default:l(()=>[E("div",st,[e(w,{modelValue:d(t).data.container.snapToGrid,"onUpdate:modelValue":s[6]||(s[6]=c=>d(t).data.container.snapToGrid=c)},null,8,["modelValue"])])]),_:1})]),_:1}),d(t).data.container.snapToGrid?(i(),V(H,{key:0},[e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("网格大小:")]),_:1}),e(a,{span:14},{default:l(()=>[e(P,{modelValue:d(t).data.container.gridSize,"onUpdate:modelValue":s[7]||(s[7]=c=>d(t).data.container.gridSize=c)},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("网格颜色:")]),_:1}),e(a,{span:14},{default:l(()=>[e(Z,{modelValue:d(t).data.container.gridColor,"onUpdate:modelValue":s[8]||(s[8]=c=>d(t).data.container.gridColor=c)},null,8,["modelValue"])]),_:1})]),_:1})],64)):j("",!0),e($),e(h,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("参考线:")]),_:1}),e(a,{span:14},{default:l(()=>[E("div",ut,[e(w,{modelValue:d(t).data.container.markline.show,"onUpdate:modelValue":s[9]||(s[9]=c=>d(t).data.container.markline.show=c)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["model"])}}}),it='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M928 896l0 32-832 0 0-32z"></path><path fill="currentColor" d="M672 96m0 32l0 640q0 32-32 32l-256 0q-32 0-32-32l0-640q0-32 32-32l256 0q32 0 32 32Z"></path></svg>',ct='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M928 512l0 32-192 0 0-32L928 512z m-640 0l0 32-192 0 0-32 192 0z"></path><path d="M672 128m0 32l0 736q0 32-32 32l-256 0q-32 0-32-32l0-736q0-32 32-32l256 0q32 0 32 32Z"></path></svg>',pt='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M96 128l0-32 832 0 0 32z"></path><path fill="currentColor" d="M352 928m0-32l0-640q0-32 32-32l256 0q32 0 32 32l0 640q0 32-32 32l-256 0q-32 0-32-32Z"></path></svg>',vt='<svg t="1692778133849" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15222" width="16" height="16"><path d="M123.26 411.37a32 32 0 1 1 45.28-45.23l311.34 311.67L479.71 97a32 32 0 0 1 32-32 32 32 0 0 1 32 32l0.17 580.89 311.59-311.76a32 32 0 0 1 45.27 45.24l-366.2 366.39-0.19 0.18-0.94 0.9-0.52 0.44-0.62 0.53-0.1 0.09-0.62 0.47-0.5 0.4c-0.05 0-0.1 0.08-0.16 0.11-0.21 0.16-0.43 0.31-0.65 0.46l-0.46 0.32-0.2 0.14-0.65 0.41-0.48 0.29a1.64 1.64 0 0 1-0.22 0.14l-0.62 0.35-0.52 0.29-0.23 0.13-0.59 0.29-0.6 0.3-0.18 0.09c-0.17 0.09-0.35 0.16-0.53 0.24l-0.71 0.3-0.19 0.08-0.48 0.18c-0.27 0.1-0.54 0.21-0.81 0.3H522.6l-0.42 0.13-0.91 0.3h-0.14l-0.39 0.11-1 0.26h-0.12l-0.38 0.08c-0.34 0.08-0.68 0.16-1 0.22h-0.06l-0.42 0.07-1 0.17h-0.09c-0.17 0-0.34 0-0.51 0.06l-0.94 0.12h-0.95l-0.75 0.05h-3.12l-0.75-0.05H508.84l-0.94-0.12c-0.17 0-0.34 0-0.51-0.06h-0.09l-1-0.17-0.42-0.07h-0.1c-0.34-0.06-0.68-0.14-1-0.22l-0.4-0.08h-0.08l-1-0.26-0.4-0.11h-0.14l-0.89-0.29-0.45-0.14-0.14-0.05c-0.26-0.09-0.53-0.19-0.79-0.3l-0.49-0.18h-0.2l-0.69-0.3-0.55-0.24-0.18-0.09-0.59-0.3-0.6-0.29-0.17-0.09h-0.05l-0.52-0.28-0.64-0.36-0.14-0.09h-0.07l-0.47-0.3c-0.22-0.14-0.45-0.27-0.67-0.42h-0.07l-0.11-0.08-0.47-0.33-0.81-0.49-0.09-0.08-0.53-0.42-0.61-0.47-0.08-0.07c-0.24-0.19-0.47-0.4-0.7-0.6l-0.46-0.4c-0.41-0.37-0.81-0.74-1.19-1.13zM896.68 895H127.32a32 32 0 1 0 0 64h769.36a32 32 0 0 0 0-64z" fill="currentColor" p-id="15223"></path></svg>',ft='<svg t="1692774315617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8893" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM224 352h576v96H224zM224 800h576v96H224z" p-id="8894"></path></svg>',_t='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M800 448H704V320c0-106.4-85.6-192-192-192S320 213.6 320 320v128H224c-17.6 0-32 14.4-32 32v384c0 17.6 14.4 32 32 32h576c17.6 0 32-14.4 32-32V480c0-17.6-14.4-32-32-32zM512 736c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m128-288H384V320c0-70.4 57.6-128 128-128s128 57.6 128 128v128z"></path></svg>',gt='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M496 96h32v192h-32V96z m0 640h32v192h-32v-192z"></path><path d="M112 352m32 0l736 0q32 0 32 32l0 256q0 32-32 32l-736 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',mt='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M96 96h32v832H96z"></path><path d="M224 352m32 0l640 0q32 0 32 32l0 256q0 32-32 32l-640 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',ht='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M896 96h32v832h-32z"></path><path d="M96 352m32 0l640 0q32 0 32 32l0 256q0 32-32 32l-640 0q-32 0-32-32l0-256q0-32 32-32Z" fill="currentColor"></path></svg>',bt='<svg t="1692774266304" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6910" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM96 352h576v96H96zM96 800h576v96H96z" p-id="6911"></path></svg>',yt='<svg t="1692778640543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7435" width="16" height="16"><path fill="currentColor" d="M143.998942-0.011289h64.007055V1024h-64.007055zM815.982714 224.002117h64.007056v575.984478h-64.007056zM591.991886-0.011289h64.007056V1024h-64.007056zM368.001058 224.002117h63.995767v575.984478h-63.995767z" p-id="7436"></path></svg>',wt='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M147.4 187.1 283.7 323.4 322.7 284.3 324.6 282.5 190.4 148.2 329.8 148.2 329.8 90.3 89.5 90.3 89.5 329 147.4 329Z"></path><path fill="currentColor" d="M322.5 739.5 283.4 700.4 281.6 698.5 147.4 832.7 147.4 693.4 89.5 693.4 89.5 933.7 328.1 933.7 328.1 875.8 186.2 875.8Z" p-id="9891"></path><path fill="currentColor" d="M694.2 90.3 694.2 148.2 833.6 148.2 701.2 280.6 699.4 282.5 738.5 321.6 740.3 323.3 876.6 187.1 876.6 329 934.5 329 934.5 90.3Z"></path><path fill="currentColor" d="M876.6 832.8 742.3 698.6 703.2 737.7 701.5 739.5 837.7 875.8 695.8 875.8 695.8 933.7 934.5 933.7 934.5 693.4 876.6 693.4Z"></path><path fill="currentColor" d="M512 291.1c-121.8 0-220.9 99.1-220.9 220.8S390.2 732.8 512 732.8 732.9 633.8 732.9 512 633.8 291.1 512 291.1zM675 512c0 89.9-73.1 163-163 163s-163-73.1-163-163c0-89.9 73.1-163 163-163S675 422.1 675 512z"></path></svg>',xt='<svg t="1692774301684" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7896" width="16" height="16"><path fill="currentColor" d="M96 128h832v96H96zM96 576h832v96H96zM352 352h576v96H352zM352 800h576v96H352z" p-id="7897"></path></svg>',Vt='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M929 849a30 30 0 0 1-30-30v-83.137a447.514 447.514 0 0 1-70.921 92.209C722.935 933.225 578.442 975.008 442 953.482a444.917 444.917 0 0 1-241.139-120.591 30 30 0 1 1 37.258-47.01l0.231-0.231A385.175 385.175 0 0 0 442 892.625v-0.006c120.855 22.123 250.206-13.519 343.656-106.975a386.646 386.646 0 0 0 70.6-96.653h-87.247a30 30 0 0 1 0-60H929a30 30 0 0 1 30 30V819a30 30 0 0 1-30 30zM632 342a50 50 0 0 1 50 50v240a50 50 0 0 1-50 50H392a50 50 0 0 1-50-50V392a50 50 0 0 1 50-50h240zM402 607a15 15 0 0 0 15 15h190a15 15 0 0 0 15-15V417a15 15 0 0 0-15-15H417a15 15 0 0 0-15 15v190z m403.005-362.025a29.87 29.87 0 0 1-19.117-6.882l-0.232 0.231A386.5 386.5 0 0 0 689.478 168h-0.011c-145.646-75.182-329.021-51.747-451.117 70.35a386.615 386.615 0 0 0-70.6 96.65H255a30 30 0 0 1 0 60H95a30 30 0 0 1-30-30V205a30 30 0 0 1 60 0v83.129a447.534 447.534 0 0 1 70.923-92.206C317.981 73.866 493.048 37.2 647 85.836v-0.045a444.883 444.883 0 0 1 176.143 105.291 30 30 0 0 1-18.138 53.893z"></path></svg>',Ct='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M742.4 384a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 0 1-51.2 51.2H153.6a51.2 51.2 0 0 1-51.2-51.2V435.2a51.2 51.2 0 0 1 51.2-51.2z m-25.6 76.8H179.2v409.6h537.6V460.8zM514.7648 71.68l54.3232 54.2976-36.5568 36.5568A473.856 473.856 0 0 1 958.208 477.3376l-72.3968 25.6256A397.056 397.056 0 0 0 538.0096 239.744l31.0784 31.0528-54.3232 54.2976-126.72-126.72 126.72-126.6944z"></path></svg>',kt='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M870.4 384a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 0 1-51.2 51.2H281.6a51.2 51.2 0 0 1-51.2-51.2V435.2a51.2 51.2 0 0 1 51.2-51.2h588.8z m-25.6 76.8H307.2v409.6h537.6V460.8zM491.1104 53.5808l90.496 90.496L635.904 198.4 581.632 252.672l-90.5216 90.5216-54.272-54.3232 53.7856-53.8368A397.056 397.056 0 0 0 135.8336 502.272l-72.6016-25.0112A473.856 473.856 0 0 1 487.2448 158.3104l-50.432-50.432 54.2976-54.2976z"></path></svg>',zt='<svg t="1692777879594" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14228" width="16" height="16"><path d="M557.654996 981.669904c-6.499999 59.041994-88.986991 53.776995-92.179991 0-0.083-40.896996-0.083-641.390937-0.083-641.390937l-283.839972 273.963973c-44.472996 38.308996-97.43499-22.922998-64.344994-63.215994 125.709988-121.895988 351.289966-340.004967 356.507965-345.049966 20.810998-22.608998 53.572995-23.779998 75.721993 0 41.406996 40.037996 348.700966 336.328967 358.028965 346.989966 31.166997 38.741996-19.223998 96.073991-62.242994 63.773994C834.109969 607.310941 557.739996 340.267967 557.739996 340.267967M116.396039 3.332l786.487923 0 0 89.285991L116.396039 92.617991 116.396039 3.332z" fill="currentColor" p-id="14229"></path></svg>',St=Object.assign({"./svg/align-bottom.svg":it,"./svg/align-center.svg":ct,"./svg/align-top.svg":pt,"./svg/bottom.svg":vt,"./svg/center.svg":ft,"./svg/disabled.svg":_t,"./svg/justify-center.svg":gt,"./svg/justify-left.svg":mt,"./svg/justify-right.svg":ht,"./svg/left.svg":bt,"./svg/middle.svg":yt,"./svg/resizable.svg":wt,"./svg/right.svg":xt,"./svg/rotatable.svg":Vt,"./svg/rotate-left.svg":Ct,"./svg/rotate-right.svg":kt,"./svg/top.svg":zt}),$t={name:String,color:String,size:[String,Number]},Mt=m=>m?St[`./svg/${m}.svg`]:"",Ht=["innerHTML"],Ut=L({__name:"SvgIcon",props:$t,setup(m){const t=m,f=M(()=>Mt(t.name)),r=M(()=>!t.size&&!t.color?{}:{fontSize:typeof t.size=="string"?t.size:`${t.size}px`,"--color":t.color});return(o,u)=>(i(),V("i",{class:"es-icon",style:N(r.value),innerHTML:f.value},null,12,Ht))}}),J=O(Ut,[["__scopeId","data-v-7e89263e"]]),Rt=L({__name:"TextStyle",setup(m){const t=Y(),f=[{label:"正常",value:"normal"},{label:"标题 1",value:"2em"},{label:"标题 2",value:"1.5em"},{label:"标题 3",value:"1.17em"},{label:"标题 4",value:"1em"},{label:"标题 5",value:"0.9em"},{label:"标题 6",value:"0.8em"}],r=B(""),o=[{label:"加粗",icon:"B",key:"fontWeight",value:"bold"},{label:"斜体",icon:"I",key:"fontStyle",value:"italic"},{label:"下划线",icon:"U",key:"textDecoration",value:"underline"},{label:"中划线",icon:"S",key:"textDecoration",value:"line-through"},{label:"左对齐",icon:"left",key:"justifyContent",value:"flex-start"},{label:"水平居中",icon:"center",key:"justifyContent",value:"center"},{label:"右对齐",icon:"right",key:"justifyContent",value:"flex-end"},{label:"上对齐",icon:"top",key:"alignItems",value:"flex-start"},{label:"垂直居中",icon:"middle",key:"alignItems",value:"center"},{label:"下对齐",icon:"bottom",key:"alignItems",value:"flex-end"}],u=M(()=>[...o].map(h=>({...h,selected:S(h.key)===h.value}))),p=M(()=>[u.value.slice(0,4),u.value.slice(4,7),u.value.slice(7,10)]),v=[{label:"Helvetica"},{label:"PingFang SC"},{label:"Hiragino Sans GB"},{label:"Microsoft YaHei"},{label:"Times New Roman"},{label:"Verdana"},{label:"Courier New"},{label:"Georgia"},{label:"Lucida Sans"},{label:"Tahoma"}];function s(h){h.selected=!h.selected,_(h.key,h.selected?h.value:void 0)}function a(h){const C=h==="normal";t.current.style.fontSize=C?void 0:h,t.current.style.fontWeight=C?"normal":"bold"}const n=M({get:()=>t.current.style||{},set:h=>{t.current.style=t.current.style||{},Object.keys(h).forEach(C=>{_(C,h[C])})}});function _(h,C){t.current.style[h]=C}function S(h){return t.current.style[h]}return(h,C)=>{const $=b("el-button"),w=b("el-tooltip"),x=b("el-button-group"),c=b("el-row"),R=b("el-divider"),g=b("el-col"),I=b("el-option"),T=b("el-select"),U=b("el-input");return i(),V("div",null,[(i(!0),V(H,null,D(p.value,(y,A)=>(i(),q(c,null,{default:l(()=>[e(x,{style:{display:"inline-flex"}},{default:l(()=>[(i(!0),V(H,null,D(y,z=>(i(),q(w,{placement:"top","show-after":300,content:z.label},{default:l(()=>[e($,{type:z.selected?"primary":"",style:N([{flex:"1"},A===0?{[z.key]:z.value}:{}]),onClick:W=>s(z)},{default:l(()=>[A===0?(i(),V(H,{key:0},[k(G(z.icon),1)],64)):(i(),q(J,{key:1,name:z.icon,size:20},null,8,["name"]))]),_:2},1032,["type","style","onClick"])]),_:2},1032,["content"]))),256))]),_:2},1024)]),_:2},1024))),256)),e(R),e(c,{gutter:10},{default:l(()=>[e(g,{span:10},{default:l(()=>[k("字体颜色:")]),_:1}),e(g,{span:14},{default:l(()=>[e(Z,{modelValue:n.value.color,"onUpdate:modelValue":C[0]||(C[0]=y=>n.value.color=y)},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{gutter:10},{default:l(()=>[e(g,{span:10},{default:l(()=>[k("标题:")]),_:1}),e(g,{span:14},{default:l(()=>[e(T,{modelValue:r.value,"onUpdate:modelValue":C[1]||(C[1]=y=>r.value=y),placeholder:"标题",onChange:a},{default:l(()=>[(i(),V(H,null,D(f,y=>e(I,{label:y.label,value:y.value},{default:l(()=>[E("span",{style:N({fontSize:y.value,fontWeight:"bold"})},G(y.label),5)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(c,{gutter:10},{default:l(()=>[e(g,{span:10},{default:l(()=>[k("字体:")]),_:1}),e(g,{span:14},{default:l(()=>[e(T,{modelValue:n.value.fontFamily,"onUpdate:modelValue":C[2]||(C[2]=y=>n.value.fontFamily=y),placeholder:"字体"},{default:l(()=>[(i(),V(H,null,D(v,y=>e(I,{label:y.label,value:y.label},{default:l(()=>[E("span",{style:N({fontFamily:y.label})},G(y.label),5)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(c,{gutter:10},{default:l(()=>[e(g,{span:10},{default:l(()=>[k("字体大小:")]),_:1}),e(g,{span:14},{default:l(()=>[e(U,{modelValue:n.value.fontSize,"onUpdate:modelValue":C[3]||(C[3]=y=>n.value.fontSize=y)},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{gutter:10},{default:l(()=>[e(g,{span:10},{default:l(()=>[k("行高:")]),_:1}),e(g,{span:14},{default:l(()=>[e(P,{modelValue:n.value.lineHeight,"onUpdate:modelValue":C[4]||(C[4]=y=>n.value.lineHeight=y)},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{gutter:10},{default:l(()=>[e(g,{span:10},{default:l(()=>[k("文本:")]),_:1}),e(g,{span:14},{default:l(()=>[e(U,{type:"textarea",modelValue:d(t).current.text,"onUpdate:modelValue":C[5]||(C[5]=y=>d(t).current.text=y)},null,8,["modelValue"])]),_:1})]),_:1})])}}}),Bt=O(Rt,[["__scopeId","data-v-b9fe192e"]]),Et={key:0},qt=L({__name:"Border",setup(m){const t=Y(),f=[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点线",value:"dotted"}],r=M({get:()=>(t.current.style.borderStyle||(t.current.style.borderStyle="solid"),t.current.style.borderStyle||"solid"),set:o=>{t.current.style.borderStyle=o}});return(o,u)=>{const p=b("el-col"),v=b("el-option"),s=b("el-select"),a=b("el-row");return d(t).current.style?(i(),V("div",Et,[e(a,{gutter:10},{default:l(()=>[e(p,{span:10},{default:l(()=>[k("边框风格:")]),_:1}),e(p,{span:14},{default:l(()=>[e(s,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=n=>r.value=n)},{default:l(()=>[(i(),V(H,null,D(f,n=>e(v,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(a,{gutter:10},{default:l(()=>[e(p,{span:10},{default:l(()=>[k("边框颜色:")]),_:1}),e(p,{span:14},{default:l(()=>[e(Z,{modelValue:d(t).current.style.borderColor,"onUpdate:modelValue":u[1]||(u[1]=n=>d(t).current.style.borderColor=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(a,{gutter:10},{default:l(()=>[e(p,{span:10},{default:l(()=>[k("边框宽度:")]),_:1}),e(p,{span:14},{default:l(()=>[e(P,{modelValue:d(t).current.style.borderWidth,"onUpdate:modelValue":u[2]||(u[2]=n=>d(t).current.style.borderWidth=n)},null,8,["modelValue"])]),_:1})]),_:1}),e(a,{gutter:10},{default:l(()=>[e(p,{span:10},{default:l(()=>[k("边框半径:")]),_:1}),e(p,{span:14},{default:l(()=>[e(P,{modelValue:d(t).current.style.borderRadius,"onUpdate:modelValue":u[3]||(u[3]=n=>d(t).current.style.borderRadius=n)},null,8,["modelValue"])]),_:1})]),_:1})])):j("",!0)}}}),It={key:0},At={style:{display:"flex","justify-content":"flex-end"}},Dt=L({__name:"Shadow",setup(m){const t=Y(),f=B(!1),r=B(3),o=B(3),u=B(1),p=B("#808080"),v=M(()=>`${r.value}px ${o.value}px ${u.value}px ${p.value}`);function s(){t.current.style.boxShadow=v.value}return K(f,a=>{a?t.current.style.boxShadow=v.value:t.current.style.boxShadow=void 0}),(a,n)=>{const _=b("el-col"),S=b("el-switch"),h=b("el-row"),C=b("el-slider");return d(t).current.style?(i(),V("div",It,[e(h,{gutter:10},{default:l(()=>[e(_,{span:10},{default:l(()=>[k("开启阴影:")]),_:1}),e(_,{span:14},{default:l(()=>[E("div",At,[e(S,{modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=$=>f.value=$)},null,8,["modelValue"])])]),_:1})]),_:1}),f.value?(i(),V(H,{key:0},[e(h,{gutter:10},{default:l(()=>[e(_,{span:10},{default:l(()=>[k("水平阴影:")]),_:1}),e(_,{span:14},{default:l(()=>[e(C,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=$=>r.value=$),step:1,min:-10,max:10,size:"small",onChange:s},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{gutter:10},{default:l(()=>[e(_,{span:10},{default:l(()=>[k("垂直阴影:")]),_:1}),e(_,{span:14},{default:l(()=>[e(C,{modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=$=>o.value=$),step:1,min:-10,max:10,size:"small",onChange:s},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{gutter:10},{default:l(()=>[e(_,{span:10},{default:l(()=>[k("模糊距离:")]),_:1}),e(_,{span:14},{default:l(()=>[e(C,{modelValue:u.value,"onUpdate:modelValue":n[3]||(n[3]=$=>u.value=$),step:1,min:1,max:20,size:"small",onChange:s},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{gutter:10},{default:l(()=>[e(_,{span:10},{default:l(()=>[k("阴影颜色:")]),_:1}),e(_,{span:14},{default:l(()=>[e(Z,{modelValue:p.value,"onUpdate:modelValue":n[4]||(n[4]=$=>p.value=$),onChange:s},null,8,["modelValue"])]),_:1})]),_:1})],64)):j("",!0)])):j("",!0)}}}),Lt={class:"color-list"},Tt=["onClick"],jt=L({__name:"ElementStyle",setup(m){const t=Y(),f=B([{backgroundColor:"#ff4500"},{backgroundColor:"#ff8c00"},{backgroundColor:"#ffd700"},{backgroundColor:"#90ee90"},{backgroundColor:"#00ced1"},{backgroundColor:"#1e90ff"},{backgroundColor:"#c71585"},{backgroundColor:"rgba(255, 69, 0, 0.68)"}]),r=M({get:()=>t.current.style.background||t.current.style.backgroundColor,set:p=>{t.current.style.background=p}}),o=p=>{t.current.selected&&(t.current.style={...t.current.style,...p})};function u(p,v){t.current.style[p]=v}return(p,v)=>{const s=b("el-divider"),a=b("el-col"),n=b("el-slider"),_=b("el-row"),S=b("el-form");return d(t).current&&d(t).current.selected?(i(),q(S,{key:0,model:d(t).current,"label-width":"80px","label-position":"left"},{default:l(()=>[E("div",Lt,[(i(!0),V(H,null,D(f.value,h=>(i(),V("div",{class:"color-item",style:N(h),onClick:C=>o(h)},null,12,Tt))),256))]),e(s),d(t).current.style?(i(),V(H,{key:0},[e(ve,{modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=h=>r.value=h)},null,8,["modelValue"]),e(s),e(_,{gutter:10},{default:l(()=>[e(a,{span:10},{default:l(()=>[k("透明度:")]),_:1}),e(a,{span:14},{default:l(()=>[e(n,{modelValue:1,step:.01,min:0,max:1,size:"small",onInput:v[1]||(v[1]=h=>u("opacity",h))})]),_:1})]),_:1}),e(s),e(Bt),e(s),e(qt),e(s),e(Dt)],64)):j("",!0)]),_:1},8,["model"])):j("",!0)}}}),Pt=O(jt,[["__scopeId","data-v-0bd513b1"]]),Nt=L({__name:"Position",setup(m){const t=Y(),f=[{label:"左对齐",value:"justify-left"},{label:"水平居中",value:"justify-center"},{label:"右对齐",value:"justify-right"}],r=[{label:"上对齐",value:"align-top"},{label:"垂直居中",value:"align-center"},{label:"下对齐",value:"align-bottom"}],o=B(["resizable","rotatable"]),u=[{label:"禁用",value:"disabled"},{label:"可缩放",value:"resizable"},{label:"可旋转",value:"rotatable"}];function p(a){t.current.angle=(t.current.angle||0)+a}function v(a){u.map(_=>_.value).forEach(_=>{a.includes(_)?t.current[_]=!0:t.current[_]=!1})}function s(a){const{width:n,height:_}=t.data.container.style;switch(a){case"justify-left":t.current.left=0;break;case"justify-center":t.current.left=n/2-t.current.width/2;break;case"justify-right":t.current.left=n-t.current.width;break;case"align-top":t.current.top=0;break;case"align-center":t.current.top=_/2-t.current.height/2;break;case"align-bottom":t.current.top=_-t.current.height;break}}return(a,n)=>{const _=b("el-col"),S=b("el-row"),h=b("el-divider"),C=b("el-button"),$=b("el-tooltip"),w=b("el-button-group"),x=b("el-checkbox-button"),c=b("el-checkbox-group"),R=b("el-form");return d(t).current&&d(t).current.selected?(i(),q(R,{key:0,model:d(t).current,"label-width":"80px","label-position":"left"},{default:l(()=>[e(S,{gutter:10},{default:l(()=>[e(_,{span:12},{default:l(()=>[e(P,{modelValue:d(t).current.left,"onUpdate:modelValue":n[0]||(n[0]=g=>d(t).current.left=g),prefix:"X"},null,8,["modelValue"])]),_:1}),e(_,{span:12},{default:l(()=>[e(P,{modelValue:d(t).current.top,"onUpdate:modelValue":n[1]||(n[1]=g=>d(t).current.top=g),prefix:"Y"},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{gutter:10},{default:l(()=>[e(_,{span:12},{default:l(()=>[e(P,{modelValue:d(t).current.width,"onUpdate:modelValue":n[2]||(n[2]=g=>d(t).current.width=g),prefix:"W"},null,8,["modelValue"])]),_:1}),e(_,{span:12},{default:l(()=>[e(P,{modelValue:d(t).current.height,"onUpdate:modelValue":n[3]||(n[3]=g=>d(t).current.height=g),prefix:"H"},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{gutter:10},{default:l(()=>[e(_,{span:12},{default:l(()=>[e(P,{modelValue:d(t).current.angle,"onUpdate:modelValue":n[4]||(n[4]=g=>d(t).current.angle=g),prefix:"旋转"},null,8,["modelValue"])]),_:1}),e(_,{span:12,class:"es-col"},{default:l(()=>[E("div",{class:"text-btn",onClick:n[5]||(n[5]=g=>p(-45))},[e(J,{name:"rotate-left"}),k(" -45°")]),E("div",{class:"text-btn",onClick:n[6]||(n[6]=g=>p(45))},[e(J,{name:"rotate-right"}),k(" +45°")])]),_:1})]),_:1}),e(h),e(S,null,{default:l(()=>[e(w,{style:{display:"inline-flex"}},{default:l(()=>[(i(),V(H,null,D(f,g=>e($,{placement:"top","show-after":300,content:g.label},{default:l(()=>[e(C,{style:{flex:"1"},onClick:I=>s(g.value)},{default:l(()=>[e(J,{name:g.value,size:20},null,8,["name"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])),64))]),_:1})]),_:1}),e(S,null,{default:l(()=>[e(w,{style:{display:"inline-flex"}},{default:l(()=>[(i(),V(H,null,D(r,g=>e($,{placement:"top","show-after":300,content:g.label},{default:l(()=>[e(C,{style:{flex:"1"},onClick:I=>s(g.value)},{default:l(()=>[e(J,{name:g.value,size:20},null,8,["name"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])),64))]),_:1})]),_:1}),e(h),e(S,null,{default:l(()=>[e(c,{modelValue:o.value,"onUpdate:modelValue":n[7]||(n[7]=g=>o.value=g),size:"small",onChange:v},{default:l(()=>[(i(),V(H,null,D(u,g=>e($,{placement:"top","show-after":300,content:g.label},{default:l(()=>[e(x,{style:{flex:"1"},label:g.value,value:g.value},{default:l(()=>[e(J,{name:g.value,size:20},null,8,["name"])]),_:2},1032,["label","value"])]),_:2},1032,["content"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])):j("",!0)}}}),Ot=O(Nt,[["__scopeId","data-v-85de5007"]]),Wt={};function Yt(m,t){return i(),V("div",null," 动画 ")}const Gt=O(Wt,[["render",Yt]]),Xt={class:"es-layout-info"},Ft={class:"es-info-tabs"},Zt=["onClick"],Jt=L({__name:"Info",setup(m){const t=Y(),f={样式:Pt,位置:Ot,动画:Gt,画布属性:dt},r=["样式","位置","动画"],o=["画布属性"],u=B("画布属性"),p=M(()=>t.current&&t.current.selected?r:o),v=M(()=>f[u.value]);return K(()=>t.current.selected,()=>{u.value=t.current.selected?r[0]:o[0]},{immediate:!0}),(s,a)=>(i(),V("div",Xt,[E("div",Ft,[(i(!0),V(H,null,D(p.value,n=>(i(),V("div",{class:re(["es-info-tab",{active:n===u.value}]),onClick:_=>u.value=n},G(n),11,Zt))),256))]),E("div",{class:"es-info-style",onClick:a[0]||(a[0]=F(()=>{},["stop"]))},[(i(),q(le(v.value)))])]))}});function Kt(m){const t={current:-1,queue:[],commands:{},commandArray:[],destoryArray:[]},f=o=>{t.commandArray.push(o),t.commands[o.name]=(...u)=>{const{redo:p,undo:v}=o.execute(...u);if(p&&p(),o.pushQueue){let{queue:s}=t;s.length>0&&(s=s.slice(0,t.current+1),t.queue=s),t.queue.push({redo:p,undo:v}),t.current+=1}}};f({name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let o=t.queue[t.current+1];o&&(o.redo&&o.redo(),t.current++)}}}}),f({name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(t.current===-1)return;let o=t.queue[t.current];o&&(o.undo&&o.undo(),t.current--)}}}}),f({name:"drag",pushQueue:!0,init(){const o=()=>{this.before=He(m.data.elements)},u=()=>t.commands.drag();return X.on("dragstart",o),X.on("dragend",u),()=>{X.off("dragstart",o),X.off("dragend",u)}},execute(){const o=this.before,u=m.data.elements;return{redo(){m.data={...m.data,elements:u}},undo(){m.data={...m.data,elements:o}}}}}),f({name:"updateContainer",pushQueue:!0,execute(o){const u={before:m.data,after:o};return{redo(){m.data=u.after},undo(){m.data=u.before}}}}),t.commandArray.forEach(o=>{o.init&&t.destoryArray.push(o.init())});const r=()=>{const o=u=>{const{ctrlKey:p,key:v}=u,s=[];p&&s.push("ctrl"),s.push(v);const a=s.join("+");t.commandArray.forEach(({name:n,keyboard:_})=>{_&&_===a&&(t.commands[n](),u.preventDefault())})};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}};return ee(()=>{t.destoryArray.push(r())}),fe(()=>{t.destoryArray.forEach(o=>o&&o())}),t}const Qt=L({__name:"index",props:{modelValue:{type:Object,required:!0,default:()=>({})},commands:{type:Object}},setup(m){const t=Y(),f=m,r=B(null),o=M({get:()=>f.modelValue,set:()=>{}}),u=M(()=>{var y;return((y=f.modelValue.container)==null?void 0:y.gridSize)||10}),p=M(()=>{var y;return((y=f.modelValue.container)==null?void 0:y.scaleRatio)||1}),v=M(()=>{const{width:y,height:A}=o.value.container.style;return{...o.value.container.style,width:y+"px",height:A+"px",transform:`scale(${p.value})`,transformOrigin:"top left"}}),s=B({startX:0,startY:0,disX:0,disY:0}),a=M({get:()=>t.current,set:y=>{t.current=y}}),n=B(),{areaSelected:_,onEditorMouseDown:S,onAreaMove:h,onAreaUp:C}=Re(o,n),{editorRect:$,onContextmenu:w,onEditorContextMenu:x}=Ee(o,r);function c(y){a.value=y,_.value||o.value.elements.filter(z=>z.selected).length===1&&o.value.elements.forEach(z=>z.selected=!1),a.value.selected=!0,s.value.startX=a.value.left,s.value.startY=a.value.top,X.emit("dragstart")}function R(){X.emit("dragend")}function g(y){const A=y.left-s.value.startX,z=y.top-s.value.startY;o.value.elements.forEach(W=>{var se;W.selected&&((se=a.value)==null?void 0:se.id)!==W.id&&(W.left+=A,W.top+=z)}),s.value.startX=y.left,s.value.startY=y.top}function I(y,A){Object.keys(y).forEach(z=>{A[z]=y[z]})}const T={dblclick:()=>{!a.value||!a.value.selected||(a.value.editable=!0)},click:()=>{a.value&&(a.value.editable=!1)}};function U(y="on"){["dblclick","click"].forEach(z=>{y==="on"?document.addEventListener(z,T[z]):document.removeEventListener(z,T[z])})}return ee(()=>{U()}),_e(()=>{U("off")}),(y,A)=>(i(),V("div",{ref_key:"editorRef",ref:r,class:"es-editor",style:N(v.value),onMousedown:A[2]||(A[2]=(...z)=>d(S)&&d(S)(...z)),onContextmenu:A[3]||(A[3]=F((...z)=>d(x)&&d(x)(...z),["prevent"]))},[(i(!0),V(H,null,D(o.value.elements,z=>(i(),q(d(ge),Q({rotatable:""},d(Ae)(z,["style","props"]),{"grid-x":u.value,"grid-y":u.value,scaleRatio:p.value,boundary:"",markline:o.value.container.markline.show,snap:"","snap-threshold":o.value.container.gridSize,onDragStart:W=>c(z),onDragEnd:R,onDrag:g,onChange:W=>I(W,z),onContextmenu:F(W=>d(w)(W,z),["stop"]),onMousedown:A[0]||(A[0]=F(()=>{},["stop"])),onClick:A[1]||(A[1]=F(()=>{},["stop"]))}),{default:l(()=>[(i(),q(le(z.component),Q({element:z},z.props,{style:{...d(te)(z.style,!1),width:"100%",height:"100%"}}),{default:l(()=>[z.text?(i(),q(pe,{key:0,editable:z.editable,text:z.text,style:N(d(te)(z.style))},null,8,["editable","text","style"])):j("",!0)]),_:2},1040,["element","style"]))]),_:2},1040,["grid-x","grid-y","scaleRatio","markline","snap-threshold","onDragStart","onChange","onContextmenu"]))),256)),o.value.container.snapToGrid?(i(),q(Ue,{key:0,grid:o.value.container.gridSize,"border-color":o.value.container.gridColor},null,8,["grid","border-color"])):j("",!0),e(Be,{ref_key:"areaRef",ref:n,onMove:d(h),onUp:d(C)},null,8,["onMove","onUp"])],36))}}),el=O(Qt,[["__scopeId","data-v-71535198"]]),tl={class:"es-preview-tools"},ll=L({__name:"Preview",setup(m){const t=Y(),f=B(),r=M(()=>{const{width:p,height:v}=t.data.container.style;return{...t.data.container.style,width:p+"px",height:v+"px",transform:`scale(${o.value})`,transformOrigin:"top left"}}),o=M(()=>{var p;return((p=t.data.container)==null?void 0:p.scaleRatio)||1});function u(p){const{width:v,height:s}=t.data.container.style,a=me().format("YYYY-MM-DD")+"-es-drager-editor."+p;he(f.value).then(n=>{if(p==="pdf"){const _=new be("l","pt","a4"),S=n.toDataURL();return _.addImage(S,"PNG",0,0,+v,+s),_.save(a)}n.toBlob(_=>{const S=document.createElement("a");S.download=a;const h=URL.createObjectURL(_);S.href=h,S.click(),URL.revokeObjectURL(h)})})}return(p,v)=>{const s=b("el-button"),a=b("el-dialog");return i(),q(a,{draggable:"",fullscreen:""},{default:l(()=>[E("div",tl,[e(s,{type:"primary",onClick:v[0]||(v[0]=n=>u("png"))},{default:l(()=>[k("导出PNG")]),_:1}),e(s,{type:"primary",onClick:v[1]||(v[1]=n=>u("jpg"))},{default:l(()=>[k("导出JPG")]),_:1}),e(s,{type:"primary",onClick:v[2]||(v[2]=n=>u("pdf"))},{default:l(()=>[k("导出PDF")]),_:1})]),E("div",{class:"es-preview-body",style:N({width:r.value.width,height:r.value.height})},[E("div",{ref_key:"editorRef",ref:f,class:"es-editor preview",style:N(r.value)},[(i(!0),V(H,null,D(d(t).data.elements,n=>(i(),q(le(n.component),Q(n.props,{style:{...d(te)(n.style,!1),width:n.width+"px",height:n.height+"px",position:"absolute",left:n.left+"px",top:n.top+"px"}}),{default:l(()=>[n.text?(i(),q(pe,{key:0,text:n.text,style:N(d(te)(n.style))},null,8,["text","style"])):j("",!0)]),_:2},1040,["style"]))),256))],4)],4)]),_:1})}}}),nl=O(ll,[["__scopeId","data-v-294a182a"]]),ol={class:"es-layout-container"},al=L({__name:"index",props:{data:{type:Object,required:!0},theme:{type:String}},setup(m,{expose:t}){const f=m,r=Y(),o=B(),{commands:u}=Kt(r),p=[{label:"撤销",icon:ye,handler:u.undo},{label:"重做",icon:we,handler:u.redo},{label:"导出",icon:xe,handler:()=>{qe({title:"导出",content:JSON.stringify(r.data),confirm(w){u.updateContainer(JSON.parse(w))}})}},{label:"导入",icon:Ve,handler:()=>{ie({resultType:"json",onChange(w){u.updateContainer(JSON.parse(w))}})}},{label:"插入图片",icon:Ce,handler:()=>{ie({resultType:"image",onChange(w){const c={id:oe(),component:"img",props:{src:w,width:200,onLoadOnce(R){if(c.props.loaded)return;const{naturalHeight:g,naturalWidth:I}=R.target,T=r.data.elements.find(y=>y.id===c.id);let U=200/I;U>1&&(U=1),T.width=I*U,T.height=g*U,c.props.loaded=!0}}};r.data.elements.push(c)}})}},{label:"预览",icon:ke,handler:()=>r.preview=!0}],v=M(()=>{const{width:w,height:x}=r.data.container.style,c={},R=r.initWidth>+w,g=r.initHeight>+x;return R&&(c.position="absolute",c.left="50%",c.transform="translateX(-50%)"),g&&(c.position="absolute",c.top="50%",c.transform="translateY(-50%)"),R&&g&&(c.transform="translate(-50%, -50%)"),c}),s=M(()=>{var w;return((w=o.value)==null?void 0:w.getBoundingClientRect())||{}});let a=null;function n(w){X.emit("dragstart"),a=w}function _(){X.emit("dragend")}function S(w){w.dataTransfer.dropEffect="move"}function h(w){if(!a)return;const x=a.component==="es-icon",c=[...r.data.elements,{...a,equalProportion:x,left:w.offsetX-a.width/2,top:w.offsetY-a.height/2,id:oe(),style:a.style||{}}];r.data.elements=c,a=null}function C(){r.initWidth=Math.floor(s.value.width),r.initHeight=Math.floor(s.value.height-7),r.data.container.style.width=r.initWidth,r.data.container.style.height=r.initHeight}function $(){return{...r.data}}return K(()=>f.data,()=>{r.update(f.data)},{immediate:!0}),K(()=>f.theme,()=>{f.theme&&(r.theme=f.theme)},{immediate:!0}),ee(()=>{C()}),t({tools:p,getData:$}),(w,x)=>(i(),V(H,null,[E("div",ol,[e(ot,{onDragstart:n,onDragend:_}),E("div",{ref_key:"mainRef",ref:o,class:"es-layout-main"},[E("div",{class:"es-editor-container",style:N(v.value)},[e(el,{modelValue:d(r).data,"onUpdate:modelValue":x[0]||(x[0]=c=>d(r).data=c),commands:d(u),onDragenter:S,onDrop:h,onDragover:x[1]||(x[1]=F(()=>{},["prevent"]))},null,8,["modelValue","commands"])],4)],512),e(Jt,{modelValue:d(r).current,"onUpdate:modelValue":x[2]||(x[2]=c=>d(r).current=c)},null,8,["modelValue"])]),e(nl,{modelValue:d(r).preview,"onUpdate:modelValue":x[3]||(x[3]=c=>d(r).preview=c)},null,8,["modelValue"])],64))}}),rl={class:"es-header-toolbar"},sl=["onClick"],ul="ES Drager Editor 开发中...",dl=L({__name:"index",setup(m){const t=B(null),f=ze(),r=B({container:{markline:{show:!0,color:""},snapToGrid:!0,gridSize:10,gridColor:"",style:{},scaleRatio:1},elements:[{id:"1",component:"div",width:100,height:100,left:100,top:100,text:"div1",style:{background:"#ff4500",color:"#fff"}},{id:"2",component:"div",width:100,height:100,left:300,top:150,text:"div2",style:{background:"#00ced1",color:"#fff"}}]}),o=M(()=>{var p;return((p=t.value)==null?void 0:p.tools)||[]});function u(p){typeof p.handler=="function"&&p.handler()}return ee(()=>{console.log(t.value)}),(p,v)=>{const s=b("el-button");return i(),V("div",{class:"es-layout",onClick:v[0]||(v[0]=F(()=>{},["stop"]))},[e(Se,{title:ul},{default:l(()=>[E("div",rl,[(i(!0),V(H,null,D(o.value,a=>(i(),V("div",{class:"es-tool-btn",onClick:n=>u(a)},[e(s,{icon:a.icon},{default:l(()=>[k(G(a.label),1)]),_:2},1032,["icon"])],8,sl))),256))])]),_:1}),e(d(al),{ref_key:"editorRef",ref:t,data:r.value,theme:d(f).theme},null,8,["data","theme"])])}}});const fl=O(dl,[["__scopeId","data-v-9117bc43"]]);export{fl as default};
