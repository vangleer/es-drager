import{d as I,r as l,i as N,o as p,c as x,j as h,g as i,w as f,e as c,t as v,u as s,f as w,z as U,F as V,a as j,b as G,A as z,m as M,C as m,k as F,_ as O}from"./index-O4UMQ5WV.js";import{u as P,A as X}from"./useArea-B4QQW7RR.js";import{u as b,m as Y,c as $,G as q}from"./GridRect-B2GJd3_G.js";const H={class:"es-container"},J={class:"es-tools"},K=I({__name:"group",setup(Q){const n=l({container:{gridSize:10,markline:{},snapToGrid:!0,style:{}},elements:[{id:b(),component:"div",text:"div1",width:100,height:100,left:100,top:100,style:{border:"1px solid #3a7afe"}},{id:b(),component:"div",text:"div2",width:100,height:100,top:200,left:300,style:{border:"1px solid #3a7afe"}}]}),g=l(null),_=N(()=>{var t;return((t=g.value)==null?void 0:t.getBoundingClientRect())||{}}),k=l(-1),y=l(),{areaSelected:R,onEditorMouseDown:C,onAreaMove:A,onAreaUp:D}=P(n,y),a=l({prevLeft:0,prevTop:0});function T(t){R.value||n.value.elements.forEach(r=>r.selected=!1);const e=n.value.elements[t];e.selected=!0,a.value.prevLeft=e.left,a.value.prevTop=e.top,k.value=t}function B(t){const e=t.left-a.value.prevLeft,r=t.top-a.value.prevTop;n.value.elements.forEach((o,d)=>{o.selected&&k.value!==d&&(o.left+=e,o.top+=r)}),a.value.prevLeft=t.left,a.value.prevTop=t.top}function E(t,e){Object.keys(t).forEach(r=>{e[r]=t[r]})}function L(){n.value.elements=Y(n.value.elements,_.value)}function S(){n.value.elements=$(n.value.elements,_.value)}return(t,e)=>{const r=U("el-button");return p(),x("div",H,[h("div",J,[i(r,{type:"primary",onClick:L},{default:f(()=>[c(v(s(w)("examples.group")),1)]),_:1}),i(r,{type:"primary",onClick:S},{default:f(()=>[c(v(s(w)("examples.unGroup")),1)]),_:1})]),h("div",{ref_key:"editorRef",ref:g,class:"es-editor",onMousedown:e[3]||(e[3]=(...o)=>s(C)&&s(C)(...o)),onClick:e[4]||(e[4]=m(()=>{},["stop"]))},[(p(!0),x(V,null,j(n.value.elements,(o,d)=>(p(),G(s(F),M({ref_for:!0},o,{rotatable:"",onDragStart:u=>T(d),onDrag:e[0]||(e[0]=u=>B(u)),onChange:u=>E(u,o),onClick:e[1]||(e[1]=m(()=>{},["stop"])),onMousedown:e[2]||(e[2]=m(()=>{},["stop"]))}),{default:f(()=>[(p(),G(z(o.component),M({ref_for:!0},o.props,{style:{...o.style,width:"100%",height:"100%"}}),{default:f(()=>[c(v(o.text),1)]),_:2},1040,["style"]))]),_:2},1040,["onDragStart","onChange"]))),256)),i(s(q)),i(s(X),{ref_key:"areaRef",ref:y,onMove:s(A),onUp:s(D)},null,8,["onMove","onUp"])],544)])}}}),te=O(K,[["__scopeId","data-v-5a763f80"]]);export{te as default};
