import{d as I,r as l,s as N,A as U,o as p,c as h,i as k,g as i,w as d,e as c,t as v,u as a,f as w,F as V,a as F,b as G,B as j,m as M,D as m,L as z,_ as O}from"./index-394668c0.js";import{u as P,A as X}from"./useArea-4646050c.js";import{G as Y,m as $,c as q,u as b}from"./GridRect-e927bd1d.js";const H={class:"es-container"},J={class:"es-tools"},K=I({__name:"group",setup(Q){const n=l({container:{gridSize:10,markline:{},snapToGrid:!0,style:{}},elements:[{id:b(),component:"div",text:"div1",width:100,height:100,left:100,top:100,style:{border:"1px solid #3a7afe"}},{id:b(),component:"div",text:"div2",width:100,height:100,top:200,left:300,style:{border:"1px solid #3a7afe"}}]}),_=l(null),g=N(()=>{var t;return((t=_.value)==null?void 0:t.getBoundingClientRect())||{}}),y=l(-1),x=l(),{areaSelected:D,onEditorMouseDown:C,onAreaMove:L,onAreaUp:R}=P(n,x),r=l({prevLeft:0,prevTop:0});function A(t){D.value||n.value.elements.forEach(s=>s.selected=!1);const e=n.value.elements[t];e.selected=!0,r.value.prevLeft=e.left,r.value.prevTop=e.top,y.value=t}function B(t){const e=t.left-r.value.prevLeft,s=t.top-r.value.prevTop;n.value.elements.forEach((o,f)=>{o.selected&&y.value!==f&&(o.left+=e,o.top+=s)}),r.value.prevLeft=t.left,r.value.prevTop=t.top}function T(t,e){Object.keys(t).forEach(s=>{e[s]=t[s]})}function E(){n.value.elements=$(n.value.elements,g.value)}function S(){n.value.elements=q(n.value.elements,g.value)}return(t,e)=>{const s=U("el-button");return p(),h("div",H,[k("div",J,[i(s,{type:"primary",onClick:E},{default:d(()=>[c(v(a(w)("examples.group")),1)]),_:1}),i(s,{type:"primary",onClick:S},{default:d(()=>[c(v(a(w)("examples.unGroup")),1)]),_:1})]),k("div",{ref_key:"editorRef",ref:_,class:"es-editor",onMousedown:e[3]||(e[3]=(...o)=>a(C)&&a(C)(...o)),onClick:e[4]||(e[4]=m(()=>{},["stop"]))},[(p(!0),h(V,null,F(n.value.elements,(o,f)=>(p(),G(a(z),M(o,{rotatable:"",onDragStart:u=>A(f),onDrag:e[0]||(e[0]=u=>B(u)),onChange:u=>T(u,o),onClick:e[1]||(e[1]=m(()=>{},["stop"])),onMousedown:e[2]||(e[2]=m(()=>{},["stop"]))}),{default:d(()=>[(p(),G(j(o.component),M(o.props,{style:{...o.style,width:"100%",height:"100%"}}),{default:d(()=>[c(v(o.text),1)]),_:2},1040,["style"]))]),_:2},1040,["onDragStart","onChange"]))),256)),i(a(Y)),i(a(X),{ref_key:"areaRef",ref:x,onMove:a(L),onUp:a(R)},null,8,["onMove","onUp"])],544)])}}});const te=O(K,[["__scopeId","data-v-6affe037"]]);export{te as default};
